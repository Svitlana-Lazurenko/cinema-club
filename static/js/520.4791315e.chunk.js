"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[520],{672:function(e,n,t){t.d(n,{O:function(){return v}});var i,r,a,o=t(689),c=t(87),u=t(168),s=t(686),d=s.Z.div(i||(i=(0,u.Z)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fit, 200px);\n  gap: 16px;\n"]))),l=s.Z.div(r||(r=(0,u.Z)(["\n  border: 1px solid black;\n  border-radius: 4px;\n\n  > a {\n    text-decoration: none;\n  }\n"]))),h=s.Z.h3(a||(a=(0,u.Z)(["\n  padding: 4px;\n  margin-top: 8px;\n  margin-bottom: 0;\n  color: black;\n"]))),f=t(184),v=function(e){var n=e.movies,t=(0,o.TH)();return(0,f.jsx)(d,{children:n.map((function(e){return(0,f.jsx)(l,{children:(0,f.jsx)(c.rU,{to:"".concat(e.id),state:{from:t},children:(0,f.jsx)(h,{children:e.title})})},e.id)}))})}},520:function(e,n,t){t.r(n),t.d(n,{default:function(){return _}});var i,r,a,o,c=t(433),u=t(439),s=t(791),d=t(87),l=t(672),h=t(168),f=t(686),v=f.Z.form(i||(i=(0,h.Z)([""]))),p=f.Z.label(r||(r=(0,h.Z)([""]))),g=f.Z.input(a||(a=(0,h.Z)(["\n  padding: 8px 32px 8px 8px;\n  border-radius: 4px;\n  font: inherit;\n"]))),m=f.Z.button(o||(o=(0,h.Z)([""]))),x=t(184),j=function(e){var n=e.value,t=e.onSubmit,i=e.onChange;return(0,x.jsxs)(v,{onSubmit:function(e){return t(e)},children:[(0,x.jsxs)(p,{children:["Enter title of movie",(0,x.jsx)(g,{placeholder:"Avatar",name:"title",type:"text",value:n,onChange:function(e){return i(e.target.value)}})]}),(0,x.jsx)(m,{type:"submit",children:"Search"})]})},b=t(502),Z="idle",S="pending",k="resolved",y="rejected",_=function(){var e=(0,s.useState)(""),n=(0,u.Z)(e,2),t=n[0],i=n[1],r=(0,s.useState)(Z),a=(0,u.Z)(r,2),o=a[0],h=a[1],f=(0,s.useState)([]),v=(0,u.Z)(f,2),p=v[0],g=v[1],m=(0,s.useState)(null),_=(0,u.Z)(m,2),C=_[0],w=_[1],M=(0,d.lr)(),U=(0,u.Z)(M,2),E=U[0],B=U[1];(0,s.useEffect)((function(){var e;if(E.size){h(S);var n=null!==(e=E.get("title"))&&void 0!==e?e:"";b.Z.fetchMoviesBySearch(n).then((function(e){if(0===e.results.length)return Promise.reject(new Error("Movies not found"));g((0,c.Z)(e.results)),h(k)})).catch((function(e){w(e),h(y)}))}}),[E]);var D=function(e){e.preventDefault();var n=e.target.title.value;B(""!==n?{title:n}:{}),i("")},O=function(e){i(e)};return"idle"===o?(0,x.jsx)("main",{children:(0,x.jsx)(j,{value:t,onSubmit:D,onChange:O})}):"pending"===o?(0,x.jsxs)("main",{children:[(0,x.jsx)(j,{value:t,onSubmit:D,onChange:O}),(0,x.jsx)("div",{children:"Loading..."})]}):"rejected"===o?(0,x.jsxs)("main",{children:[(0,x.jsx)(j,{value:t,onSubmit:D,onChange:O}),(0,x.jsxs)("div",{children:["Error: ",C.message]})]}):"resolved"===o?(0,x.jsxs)("main",{children:[(0,x.jsx)(j,{value:t,onSubmit:D,onChange:O}),(0,x.jsx)(l.O,{movies:p})]}):void 0}},502:function(e,n){var t="df4f25ddce476816dc7867d9ac4bd1ea";var i={fetchTrendingMovies:function(){return fetch("https://api.themoviedb.org/3/trending/movie/day?include_adult=false&language=en-US&page=1&api_key=".concat(t)).then((function(e){return e.json()}))},fetchMoviesBySearch:function(e){return fetch("https://api.themoviedb.org/3/search/movie?include_adult=false&language=en-US&page=1&query=".concat(e,"&api_key=").concat(t)).then((function(e){return e.json()}))},fetchMovieDetails:function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"?language=en-US&api_key=").concat(t)).then((function(e){return e.json()}))},fetchMovieCast:function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"/credits?language=en-US&api_key=").concat(t)).then((function(e){return e.json()}))},fetchMovieReviews:function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"/reviews?language=en-US&page=1&api_key=").concat(t)).then((function(e){return e.json()}))}};n.Z=i}}]);
//# sourceMappingURL=520.4791315e.chunk.js.map