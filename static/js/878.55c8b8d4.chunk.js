"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[878],{633:function(e,n,t){t.r(n),t.d(n,{default:function(){return B}});var i,r,c,o,a,s,d,l,u,h,f=t(683),v=t(439),p=t(791),g=t(689),j=t(87),x=t(128),m=t(168),Z=t(686),k=(0,Z.Z)(j.rU)(i||(i=(0,m.Z)(["\n  display: inline-flex;\n  align-items: center;\n  gap: 4px;\n  padding: 8px 0;\n  color: black;\n  text-decoration: none;\n  font-weight: 500;\n  text-transform: uppercase;\n\n  :hover {\n    color: orangered;\n  }\n"]))),_=t(184),b=function(e){var n=e.to,t=e.children;return(0,_.jsxs)(k,{to:n,children:[(0,_.jsx)(x.jTe,{size:"24"}),t]})},w=Z.Z.div(r||(r=(0,m.Z)([""]))),S=Z.Z.img(c||(c=(0,m.Z)([""]))),U=Z.Z.h1(o||(o=(0,m.Z)([""]))),y=Z.Z.p(a||(a=(0,m.Z)([""]))),M=Z.Z.h2(s||(s=(0,m.Z)([""]))),C=Z.Z.p(d||(d=(0,m.Z)([""]))),R=Z.Z.h2(l||(l=(0,m.Z)([""]))),T=Z.Z.ul(u||(u=(0,m.Z)([""]))),D=Z.Z.li(h||(h=(0,m.Z)([""]))),E=function(e){var n=e.movie;return(0,_.jsxs)(w,{children:[(0,_.jsx)(S,{src:n.poster_path?"https://image.tmdb.org/t/p/w300".concat(n.poster_path):"https://fakeimg.pl/300x450?text=300x450",alt:"poster of movie ".concat(n.title)}),(0,_.jsxs)(U,{children:[n.title," (",n.release_date.slice(0,4),")"]}),(0,_.jsxs)(y,{children:["User score: ",Math.round(10*n.vote_average),"%"]}),(0,_.jsx)(M,{children:"Overview"}),(0,_.jsx)(C,{children:n.overview}),(0,_.jsx)(R,{children:"Genres"}),(0,_.jsx)(T,{children:n.genres.map((function(e){return(0,_.jsx)(D,{children:e.name},e.id)}))})]})},G=t(502),L="idle",O="pending",q="resolved",z="rejected",B=function(){var e,n,t=(0,g.UO)().id,i=(0,g.TH)(),r=(0,p.useRef)(null!==(e=null===(n=i.state)||void 0===n?void 0:n.from)&&void 0!==e?e:"/"),c=(0,p.useState)(L),o=(0,v.Z)(c,2),a=o[0],s=o[1],d=(0,p.useState)({}),l=(0,v.Z)(d,2),u=l[0],h=l[1],x=(0,p.useState)(null),m=(0,v.Z)(x,2),Z=m[0],k=m[1];return(0,p.useEffect)((function(){s(O),G.Z.fetchMovieDetails(t).then((function(e){if(!e)return Promise.reject(new Error("Information about movie not found"));h((0,f.Z)({},e)),s(q)})).catch((function(e){k(e),s(z)}))}),[t]),"idle"===a?null:"pending"===a?(0,_.jsx)("main",{children:(0,_.jsx)("div",{children:"Loading..."})}):"rejected"===a?(0,_.jsx)("main",{children:(0,_.jsx)("div",{children:Z.message})}):"resolved"===a?(0,_.jsxs)("main",{children:[(0,_.jsx)(b,{to:r.current,children:"Go back"}),(0,_.jsx)(E,{movie:u}),(0,_.jsxs)("ul",{children:[(0,_.jsx)("li",{children:(0,_.jsx)(j.rU,{to:"cast",children:"Cast"})}),(0,_.jsx)("li",{children:(0,_.jsx)(j.rU,{to:"reviews",children:"Reviews"})})]}),(0,_.jsx)(p.Suspense,{fallback:(0,_.jsx)("div",{children:"Loading subpage..."}),children:(0,_.jsx)(g.j3,{})})]}):void 0}},502:function(e,n){var t="df4f25ddce476816dc7867d9ac4bd1ea";var i={fetchTrendingMovies:function(){return fetch("https://api.themoviedb.org/3/trending/movie/day?include_adult=false&language=en-US&page=1&api_key=".concat(t)).then((function(e){return e.json()}))},fetchMoviesBySearch:function(e){return fetch("https://api.themoviedb.org/3/search/movie?include_adult=false&language=en-US&page=1&query=".concat(e,"&api_key=").concat(t)).then((function(e){return e.json()}))},fetchMovieDetails:function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"?language=en-US&api_key=").concat(t)).then((function(e){return e.json()}))},fetchMovieCast:function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"/credits?language=en-US&api_key=").concat(t)).then((function(e){return e.json()}))},fetchMovieReviews:function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"/reviews?language=en-US&page=1&api_key=").concat(t)).then((function(e){return e.json()}))}};n.Z=i}}]);
//# sourceMappingURL=878.55c8b8d4.chunk.js.map