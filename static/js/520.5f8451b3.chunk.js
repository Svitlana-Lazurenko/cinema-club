"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[520],{672:function(n,e,t){t.d(e,{O:function(){return v}});var r,i,a,o,c=t(689),u=t(168),s=t(686),d=t(87),l=s.Z.div(r||(r=(0,u.Z)(["\n  display: flex;\n  flex-wrap: wrap;\n  gap: 15px;\n"]))),h=(0,s.Z)(d.rU)(i||(i=(0,u.Z)(["\n  flex-basis: calc((100% - 45px) / 4);\n  text-transform: uppercase;\n\n  :hover {\n    color: orange;\n  }\n"]))),p=s.Z.div(a||(a=(0,u.Z)(["\n  border: 1px solid orange;\n  border-radius: 7px;\n  width: 100%;\n  height: 145px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  background-image: linear-gradient(to right, #2f303a66, #2f303a66),\n    url(",");\n  background-repeat: no-repeat;\n  background-size: cover;\n"])),(function(n){return n.background})),f=s.Z.p(o||(o=(0,u.Z)(["\n  text-align: center;\n  font-weight: 600;\n  font-size: 20px;\n\n  padding: 10px;\n"]))),g=t(184),v=function(n){var e=n.movies,t=(0,c.TH)();return(0,g.jsx)(l,{children:e.map((function(n){return(0,g.jsx)(h,{to:"".concat(n.id),state:{from:t},children:(0,g.jsx)(p,{background:n.backdrop_path?"https://image.tmdb.org/t/p/w300".concat(n.backdrop_path):null,children:(0,g.jsx)(f,{children:n.title})})},n.id)}))})}},520:function(n,e,t){t.r(e),t.d(e,{default:function(){return C}});var r,i,a,o,c,u=t(433),s=t(439),d=t(791),l=t(87),h=t(672),p=t(168),f=t(686),g=f.Z.form(r||(r=(0,p.Z)(["\n  display: flex;\n  align-items: flex-end;\n\n  margin-bottom: 20px;\n"]))),v=f.Z.label(i||(i=(0,p.Z)(["\n  display: flex;\n  flex-direction: column;\n\n  margin-right: 15px;\n"]))),x=f.Z.span(a||(a=(0,p.Z)(["\n  margin-bottom: 10px;\n"]))),m=f.Z.input(o||(o=(0,p.Z)(["\n  width: 260px;\n  padding: 8px 32px 8px 8px;\n  border-radius: 4px;\n  border: none;\n  font: inherit;\n"]))),b=f.Z.button(c||(c=(0,p.Z)(["\n  width: 70px;\n  height: 35px;\n\n  border-radius: 4px;\n  border: none;\n  background-color: orangered;\n\n  color: white;\n  font-weight: 700;\n"]))),j=t(184),Z=function(n){var e=n.value,t=n.onSubmit,r=n.onChange;return(0,j.jsxs)(g,{onSubmit:function(n){return t(n)},children:[(0,j.jsxs)(v,{children:[(0,j.jsx)(x,{children:"Enter title of movie"}),(0,j.jsx)(m,{placeholder:"Avatar",name:"title",type:"text",value:e,onChange:function(n){return r(n.target.value)}})]}),(0,j.jsx)(b,{type:"submit",children:"Search"})]})},k=t(502),S="idle",w="pending",y="resolved",_="rejected",C=function(){var n=(0,d.useState)(""),e=(0,s.Z)(n,2),t=e[0],r=e[1],i=(0,d.useState)(S),a=(0,s.Z)(i,2),o=a[0],c=a[1],p=(0,d.useState)([]),f=(0,s.Z)(p,2),g=f[0],v=f[1],x=(0,d.useState)(null),m=(0,s.Z)(x,2),b=m[0],C=m[1],M=(0,l.lr)(),U=(0,s.Z)(M,2),z=U[0],E=U[1];(0,d.useEffect)((function(){var n;if(z.size){c(w);var e=null!==(n=z.get("title"))&&void 0!==n?n:"";k.Z.fetchMoviesBySearch(e).then((function(n){if(0===n.results.length)return Promise.reject(new Error("Movies not found"));v((0,u.Z)(n.results)),c(y)})).catch((function(n){C(n),c(_)}))}}),[z]);var B=function(n){n.preventDefault();var e=n.target.title.value;E(""!==e?{title:e}:{}),r("")},D=function(n){r(n)};return"idle"===o?(0,j.jsx)("main",{children:(0,j.jsx)(Z,{value:t,onSubmit:B,onChange:D})}):"pending"===o?(0,j.jsxs)("main",{children:[(0,j.jsx)(Z,{value:t,onSubmit:B,onChange:D}),(0,j.jsx)("div",{children:"Loading..."})]}):"rejected"===o?(0,j.jsxs)("main",{children:[(0,j.jsx)(Z,{value:t,onSubmit:B,onChange:D}),(0,j.jsx)("div",{children:b.message})]}):"resolved"===o?(0,j.jsxs)("main",{children:[(0,j.jsx)(Z,{value:t,onSubmit:B,onChange:D}),(0,j.jsx)(h.O,{movies:g})]}):void 0}},502:function(n,e){var t="df4f25ddce476816dc7867d9ac4bd1ea";var r={fetchTrendingMovies:function(){return fetch("https://api.themoviedb.org/3/trending/movie/day?include_adult=false&language=en-US&page=1&api_key=".concat(t)).then((function(n){return n.json()}))},fetchMoviesBySearch:function(n){return fetch("https://api.themoviedb.org/3/search/movie?include_adult=false&language=en-US&page=1&query=".concat(n,"&api_key=").concat(t)).then((function(n){return n.json()}))},fetchMovieDetails:function(n){return fetch("https://api.themoviedb.org/3/movie/".concat(n,"?language=en-US&api_key=").concat(t)).then((function(n){return n.json()}))},fetchMovieCast:function(n){return fetch("https://api.themoviedb.org/3/movie/".concat(n,"/credits?language=en-US&api_key=").concat(t)).then((function(n){return n.json()}))},fetchMovieReviews:function(n){return fetch("https://api.themoviedb.org/3/movie/".concat(n,"/reviews?language=en-US&page=1&api_key=").concat(t)).then((function(n){return n.json()}))}};e.Z=r}}]);
//# sourceMappingURL=520.5f8451b3.chunk.js.map