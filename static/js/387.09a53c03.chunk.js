"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[387],{387:function(e,n,t){t.r(n),t.d(n,{default:function(){return y}});var i,c,r,o,a,u=t(433),s=t(439),d=t(791),h=t(689),f=t(502),l=t(168),v=t(686),p=v.Z.div(i||(i=(0,l.Z)([""]))),g=v.Z.ul(c||(c=(0,l.Z)([""]))),m=v.Z.li(r||(r=(0,l.Z)([""]))),Z=v.Z.h2(o||(o=(0,l.Z)([""]))),j=v.Z.p(a||(a=(0,l.Z)([""]))),k=t(184),_="idle",S="pending",b="resolved",w="rejected",y=function(){var e=(0,h.UO)().id,n=(0,d.useState)([]),t=(0,s.Z)(n,2),i=t[0],c=t[1],r=(0,d.useState)(_),o=(0,s.Z)(r,2),a=o[0],l=o[1],v=(0,d.useState)(null),y=(0,s.Z)(v,2),x=y[0],M=y[1];return(0,d.useEffect)((function(){l(S),f.Z.fetchMovieReviews(e).then((function(e){if(0===e.results)return Promise.reject(new Error("Cast not found"));c((0,u.Z)(e.results)),l(b)})).catch((function(e){M(e),l(w)}))}),[e]),"idle"===a?null:"pending"===a?(0,k.jsx)("div",{children:"Loading..."}):"rejected"===a?(0,k.jsxs)("div",{children:["Error: ",x.message]}):"resolved"===a?(0,k.jsx)(p,{children:(0,k.jsx)(g,{children:i.map((function(e){return(0,k.jsxs)(m,{children:[(0,k.jsx)(Z,{children:e.author}),(0,k.jsx)(j,{children:e.content})]},e.id)}))})}):void 0}},502:function(e,n){var t="df4f25ddce476816dc7867d9ac4bd1ea";var i={fetchTrendingMovies:function(){return fetch("https://api.themoviedb.org/3/trending/movie/day?include_adult=false&language=en-US&page=1&api_key=".concat(t)).then((function(e){return e.json()}))},fetchMoviesBySearch:function(e){return fetch("https://api.themoviedb.org/3/search/movie?include_adult=false&language=en-US&page=1&query=".concat(e,"&api_key=").concat(t)).then((function(e){return e.json()}))},fetchMovieDetails:function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"?language=en-US&api_key=").concat(t)).then((function(e){return e.json()}))},fetchMovieCast:function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"/credits?language=en-US&api_key=").concat(t)).then((function(e){return e.json()}))},fetchMovieReviews:function(e){return fetch("https://api.themoviedb.org/3/movie/".concat(e,"/reviews?language=en-US&page=1&api_key=").concat(t)).then((function(e){return e.json()}))}};n.Z=i}}]);
//# sourceMappingURL=387.09a53c03.chunk.js.map